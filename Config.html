<!DOCTYPE html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="scripts/site.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="scripts/js/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>    
    <script data-main="scripts/js/js-yaml.js" src="scripts/js/require.js"></script>

    <script src="scripts/js/config/site.js"></script>
    <script src="scripts/js/config/download.js"></script>
    <script src="scripts/js/config/modals.js"></script>
    <script src="scripts/js/config/import.js"></script>

</head>
    

<br/>

<div class="row justify-content-center">
    <div class="col-8">
        <div class="text-center">
            <button class="btn btn-primary top-button" onclick="download('config.yml')" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Downloads config.yml" >Download</button>
            
            <button class="btn btn-primary top-button" id="importBtn" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Upload your current config" >Import</button>
            <input type="file" id="importUpload"  name="importUpload" style="display:none" accept=".yml" />
        </div>

        <hr>

        <div>
            <div class="accordion" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="panelsStayOpen-headingGeneral">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseGeneral" aria-expanded="true" aria-controls="panelsStayOpen-collapseGeneral">
                      General
                    </button>
                  </h2>
                  <div id="panelsStayOpen-collapseGeneral" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingGeneral">
                    <div class="accordion-body">
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Displays caught fish using the ingame scoreboard">
                            <input class="form-check-input" type="checkbox" id="ShowScoreboardCheck" checked="checked">
                            <label class="form-check-label active" for="ShowScoreboardCheck">
                                Show Scoreboard
                            </label>
                        </div>
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Displays caught fish using the ingame chat">
                            <input class="form-check-input" type="checkbox" id="ShowChatCheck">
                            <label class="form-check-label" for="ShowChatCheck">
                                Show Chat
                            </label>
                        </div>
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"  title="Runs the plugin in High Priority Mode <br>(Only use if you are experiencing incompatibilities)">
                            <input class="form-check-input" type="checkbox" id="PriorityCheck">
                            <label class="form-check-label" for="PriorityCheck">
                                High Priority
                            </label>
                        </div>
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Custom fish will only be caught when tournaments are running">
                            <input class="form-check-input" type="checkbox" id="TournamentCheck">
                            <label class="form-check-label" for="TournamentCheck">
                                Tournament Only
                            </label>
                        </div>
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Players are required to have permissions to fish in specific areas">
                            <input class="form-check-input" type="checkbox" id="AreaCheck">
                            <label class="form-check-label" for="AreaCheck">
                                Area Permissions
                            </label>
                        </div>
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="When a fish of the highest rarity is caught, announce it to the server">
                            <input class="form-check-input" type="checkbox" id="LegendCheck" checked="checked">
                            <label class="form-check-label active" for="LegendCheck">
                                Announce Legendary
                            </label>
                        </div>

                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Custom Fish can only be caught in certain worlds">
                            <input class="form-check-input" type="checkbox" id="WorldCheck">
                            <label class="form-check-label" for="WorldCheck">
                                World Whitelist
                            </label>
                        </div>

                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Enables economy support">
                            <input class="form-check-input" type="checkbox" id="EconomyCheck" checked="checked">
                            <label class="form-check-label active" for="EconomyCheck">
                                Enable Economy
                            </label>
                        </div>

                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Allows players to craft upgradeable fish bags">
                            <input class="form-check-input" type="checkbox" id="FishBagsCheck" checked="checked">
                            <label class="form-check-label active" for="FishBagsCheck">
                                Enable Fish Bags
                            </label>
                        </div>

                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Enables server wide Tournaments from the tournaments.yml file">
                            <input class="form-check-input" type="checkbox" id="TournamentsCheck">
                            <label class="form-check-label active" for="TournamentsCheck">
                                Enable Tournaments
                            </label>
                        </div>

                         <!--@*Wandering Traders*@-->
                         <div class="input-group mb-3 flex-nowrap">
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Players can sell their fish to Wandering Traders">
                                <input class="form-check-input" type="checkbox" id="WanderingTraderCheck">
                                <label class="form-check-label" for="WanderingTraderCheck">
                                    Allow Wandering Traders
                                </label>
                            </div>
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The price modifier when selling fish to Wandering Traders">
                                <span class="input-group-text" style="width:fit-content;">Modifier</span>
                                <input type="number" class="form-control" id="traderModifierValue" value="1.5">
                            </div>
                        </div>   
                        <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Used whenever the plugin has to handle economy messages">
                            <span class="input-group-text" style="width:fit-content;">Currency Symbol</span>
                            <input type="text" class="form-control" id="currencySymbol" value="$">
                        </div>                  
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="panelsStayOpen-headingTreasure">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTreasure" aria-expanded="false" aria-controls="panelsStayOpen-collapseTreasure">
                      Treasure
                    </button>
                  </h2>
                  <div id="panelsStayOpen-collapseTreasure" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTreasure">
                    <div class="accordion-body">
                        <div class="input-group mb-3 flex-nowrap">
                            <div class="form-check form-check-inline form-switch">
                                <input class="form-check-input" type="checkbox" id="treasureCheck" checked="checked">
                                <label class="form-check-label" for="treasureCheck">
                                    Enable Treasure
                                </label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Base chance of fishing up treasure">
                                <span class="input-group-text" style="width:fit-content;">Treasure Chance</span>
                                <input type="text" class="form-control" id="treasureChance" value="5">
                            </div>
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Bonus to treasure chance when fishing with a parrot on your shoulder">
                                <span class="input-group-text" style="width:fit-content;">Parrot Bonus</span>
                                <input type="text" class="form-control" id="parrotBonus" value="5">
                            </div>
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Bonus to treasure chance when fishing while in a boat">
                                <span class="input-group-text" style="width:fit-content;">Boat Bonus</span>
                                <input type="text" class="form-control" id="boatBonus" value="5">
                            </div>

                        </div>


                        <div class="col-3 list-group" id="rarityList overflow-visible scrollList">
                            <span class="list-group-item text-center">Caskets</span>
                            <button class="btn btn-primary addBtn" onclick="displayCasketModal()">Add New</button>
                            <div id="CasketParent" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Click a casket to edit"></div>
                        </div>

                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="panelsStayOpen-headingEndgame">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseEndgame" aria-expanded="false" aria-controls="panelsStayOpen-collapseEndgame">
                      Endgame
                    </button>
                  </h2>
                </div>
                <div id="panelsStayOpen-collapseEndgame" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingEndgame">
                    <div class="accordion-body">
                        
                        <div class="mb-3">
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Enable the endgame ocean area">
                                <input class="form-check-input" type="checkbox" id="AllBlueCheck" checked="checked">
                                <label class="form-check-label active" for="AllBlueCheck">
                                    Enable Endgame Ocean
                                </label>
                            </div>

                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="If disabled, a zone with limited fish will spawn for each compass crafted">
                                <input class="form-check-input" type="checkbox" id="PermanentBlueCheck" checked="checked">
                                <label class="form-check-label active" for="PermanentBlueCheck">
                                    Permanent Endgame Ocean
                                </label>
                            </div>
                            
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Amount of fish available in non-permanent endgame areas">
                                <span class="input-group-text" style="width:fit-content;">Endgame Ocean Fish Limit</span>
                                <input type="number" class="form-control" id="allBlueFishInput" value=2000>
                            </div>

                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The size of the endgame ocean zone. Larger sizes may make it more difficult to find an appropriate location">
                                <span class="input-group-text" style="width:fit-content;">Endgame Ocean Radius</span>
                                <input type="number" class="form-control" id="endgameRadiusInput" value=32>
                            </div>

                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The chance of fishing up monsters in the endgame zone">
                                <span class="input-group-text" style="width:fit-content;">Endgame Mob Chance</span>
                                <input type="number" class="form-control" id="inputMobChance" value=2>
                            </div>

                            <div class="form-check form-check-inline form-switch" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The area for the endgame zone to generate in">
                                <span class="input-group-text" style="width:fit-content;">Endgame Area</span>
                                <select class="form-select" id="inputEndgameArea">
                                </select>
                            </div>
                        </div>

                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-8">
            <div class="row mt-md-1">
                <div class="col-3 list-group overflow-visible scrollList" id="worldList" >
                    <span class="list-group-item text-center">Allowed Worlds</span>
                    <button class="btn btn-primary addBtn" onclick="displayWorldModal()">Add New</button>
                    <div id="WorldsParent" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Click a world to edit"></div>
                    
                </div>
                <div class="col-3 list-group overflow-visible scrollList" id="fishList" >
                    <span class="list-group-item text-center">Available Fish</span>
                    <button type="button" class="btn btn-primary addBtn"  onclick="displayFishModal();">Add New</button>
                    <div id="FishParent" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Click a fish to edit"></div>
                </div>
                <div class="col-3 list-group overflow-visible scrollList" id="areaList" >
                    <span class="list-group-item text-center">Fishing Areas</span>
                    <button class="btn btn-primary addBtn" onclick="displayAreaModal();">Add New</button>
                    <div id="AreaParent" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Click an area to edit"></div>
                    
                </div>
                <div class="col-3 list-group" id="rarityList overflow-visible scrollList" >
                    <span class="list-group-item text-center">Fish Rarities</span>
                    <button class="btn btn-primary addBtn" onclick="displayRarityModal()">Add New</button>
                    <div id="RarityParent" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Click a rarity to edit"></div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Fish Modal -->
<div class="modal fade" id="fishModal" tabindex="-1" aria-labelledby="fishModalLabel" aria-hidden="true">
  <div class="modal-dialog">
              <div class="modal-content">
        <form>
            <div class="col-2"><button type="button" class="btn btn-danger btn-sm topright" onclick="Delete('fish')" id="fishDeleteBtn">Delete</button></div>
            <div class="modal-header">
                <div class="col-10">
                    <input type="text" id="inputFishName" class="form-control" style="text-align: center;" placeholder="Fish Name"/>
                </div>
                
            </div>
            <div class="modal-body">

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputLore" class="col-form-label">Lore</label>
                    </div>
                    <div class="col-9">
                        <input type="text" id="inputFishLore" class="form-control">
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputMinSize" class="col-form-label">Min Length</label>
                    </div>
                    <div class="col-9">
                        <input type="number" id="inputMinSize" class="form-control">
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputMaxSize" class="col-form-label">Max Length</label>
                    </div>
                    <div class="col-9">
                        <input type="number" id="inputMaxSize" class="form-control">
                    </div>
                </div>

                
                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputMinHeight" class="col-form-label">Min Height</label>
                    </div>
                    <div class="col-9">
                        <input type="number" id="inputMinHeight" class="form-control">
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputMaxHeight" class="col-form-label">Max Height</label>
                    </div>
                    <div class="col-9">
                        <input type="number" id="inputMaxHeight" class="form-control">
                    </div>
                </div>


                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputModelData" class="col-form-label">Model Data</label>
                    </div>
                    <div class="col-9">
                        <input type="number" id="inputModelData" class="form-control">
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputPrice" class="col-form-label">Base Price</label>
                    </div>
                    <div class="col-9">
                        <input type="number" id="inputPrice" class="form-control">
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputFishArea" class="col-form-label">Area</label>
                    </div>
                    <div class="col-9">
                        <select class="form-select" id="inputFishArea">
                        </select>
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputFishRaining" class="col-form-label">Raining</label>
                    </div>
                    <div class="col-9">
                        <input class="form-check-input" type="checkbox" id="inputFishRaining" class="form-control">
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="saveFish();" id="SaveFishBtn">Create</button>
              </div>
        </form>
      
      </div>
    </div>

</div>

<!-- Area Modal -->
<div class="modal fade" id="areaModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
                <div class="modal-content">
          <form>
            <div class="col-2"><button type="button" class="btn btn-danger btn-sm topright" onclick="Delete('area')" id="areaDeleteBtn">Delete</button></div>
              <div class="modal-header">
                <div class="col-10">
                    <input type="text" id="inputAreaName" class="form-control" style="text-align: center;" placeholder="Area Name"/>
                </div>
              </div>
              <div class="modal-body">
  
                  <div class="row g-3 align-items-center">
                      <div class="col-2">
                          <label for="inputAreaBiomes" class="col-form-label">Biomes</label>
                      </div>
                      <div class="col-10">
                        <textarea class="form-control" id="inputAreaBiomes" rows="3" placeholder="Seperate each biome by a space"></textarea>
                      </div>
                  </div>
                  <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputHasCompass" class="col-form-label">Has Compass</label>
                    </div>
                    <div class="col-9">
                        <input class="form-check-input" type="checkbox" id="inputHasCompass" class="form-control">
                        </select>
                    </div>
                </div>
                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputCompassHint" class="col-form-label">Compass Hint</label>
                    </div>
                    <div class="col-9">
                        <input type="text" id="inputCompassHint" class="form-control">
                    </div>
                </div>
  
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" onclick="saveArea();" id="SaveAreaBtn">Create</button>
                </div>
          </form>
        
        </div>
      </div>
  
  </div>

<!-- World Modal -->
<div class="modal fade" id="worldModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
                <div class="modal-content">
          <form>
            <div class="col-2"><button type="button" class="btn btn-danger btn-sm topright" onclick="Delete('world')" id="worldDeleteBtn">Delete</button></div>
              <div class="modal-header">
                  <div class="col-10">
                    <input type="text" id="inputWorldName" class="form-control" style="text-align: center;" placeholder="World Name"/>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" onclick="saveWorld();" id="SaveWorldBtn">Create</button>
                </div>
          </form>
        
        </div>
      </div>
  
  </div>

<!-- Rarity Modal -->
<div class="modal fade" id="rarityModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="col-2"><button type="button" class="btn btn-danger btn-sm topright" onclick="Delete('rarity')" id="rarityDeleteBtn">Delete</button></div>
                <div class="modal-header">
                    <div class="col-10">
                        <input type="text" id="inputRarityName" class="form-control" style="text-align: center;" placeholder="Rarity Name"/>
                    </div>
              </div>
              <div class="modal-body">
                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputRarityWeight" class="col-form-label">Weight</label>
                    </div>
                    <div class="col-9">
                      <input type="text" class="form-control" id="inputRarityWeight"></input>
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputRarityPrefix" class="col-form-label">Prefix</label>
                    </div>
                    <div class="col-9">
                      <input type="text" class="form-control" id="inputRarityPrefix"></input>
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputRarityPrice" class="col-form-label">Price Mod</label>
                    </div>
                    <div class="col-9">
                      <input type="number" class="form-control" id="inputRarityPrice"></input>
                    </div>
                </div>
            </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" onclick="saveRarity();" id="SaveRarityBtn">Create</button>
                </div>
          </form>
        
        </div>
      </div>
  
  </div>

<!-- Casket Modal -->
<div class="modal fade" id="casketModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="col-2"><button type="button" class="btn btn-danger btn-sm topright" onclick="Delete('casket')" id="casketDeleteBtn">Delete</button></div>
                <div class="modal-header">
                    <div class="col-10">
                        <input type="text" id="inputCasketName" class="form-control" style="text-align: center;" placeholder="Casket Name"/>
                    </div>
              </div>
              <div class="modal-body">
                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputCasketWeight" class="col-form-label">Weight</label>
                    </div>
                    <div class="col-9">
                      <input type="text" class="form-control" id="inputCasketWeight"></input>
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputCasketPrefix" class="col-form-label">Prefix</label>
                    </div>
                    <div class="col-9">
                      <input type="text" class="form-control" id="inputCasketPrefix"></input>
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputCasketModelData" class="col-form-label">Model Data</label>
                    </div>
                    <div class="col-9">
                      <input type="text" class="form-control" id="inputCasketModelData"></input>
                    </div>
                </div>

                <div class="row g-3 align-items-center">
                    <div class="col-3">
                        <label for="inputCasketPrefix" class="col-form-label">Drop Table</label>
                    </div>
                    <div class="col-9">
                      <textarea class="form-control" id="inputCasketDropTable" row="3"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="saveCasket();" id="SaveCasketBtn">Create</button>
            </div>
          </form>
        
        </div>
      </div>
  
  </div>